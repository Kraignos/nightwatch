/*! nightwatch - v1.0.0 - 2015-12-22
* Copyright (c) 2015 ; Licensed  */

!function(){"use strict";angular.module("nightwatch",["ngMaterial","ui.router"])}(),function(){"use strict";function a(a,b,c){function d(){c.html5Mode(!0),b.otherwise("/index"),a.state("index",{url:"/",views:{cluster:{templateUrl:"assets/templates/health.html",resolve:{cluster:e},controller:"HealthCtrl",controllerAs:"healthVM"},nodes:{templateUrl:"assets/templates/health.nodes.html",resolve:{nodes:g},controller:"HealthNodesCtrl",controllerAs:"healthNodesVM"}}}).state("health",{url:"/health",templateUrl:"assets/templates/health.html",resolve:{cluster:e},controller:"HealthCtrl",controllerAs:"healthVM"}).state("health.indices",{url:"/health_indices",templateUrl:"assets/templates/health.indices.html",resolve:{indices:f},controller:"HealthIndicesCtrl",controllerAs:"healthIndicesVM"}).state("health.nodes",{url:"/health_nodes",templateUrl:"assets/templates/health.nodes.html",resolve:{nodes:g},controller:"HealthNodesCtrl",controllerAs:"healthNodesVM"}).state("watch",{url:"/watch","abstract":"true",templateUrl:"assets/templates/watch.html"}).state("watch.percolators",{url:"/percolators",views:{percolator:{templateUrl:"assets/templates/watch.percolators.html",controller:"PercolatorsCtrl",controllerAs:"percolatorsVM"}}}).state("watch.watchers",{url:"/watchers",views:{watchers:{templateUrl:"assets/templates/watch.watchers.html",controller:"WatchersCtrl",controllerAs:"watchersVM"}}}).state("query",{url:"/query",template:"<h5>Query</h5>"}).state("settings",{url:"/settings",template:"<h5>Settings</h5>"})}function e(a){return a.health().then(function(a){return a.data})}function f(a){return a.indicesHealth().then(function(a){return a.data.indices})}function g(a){return a.nodesInfo().then(function(a){return a.data.nodes})}d(),e.$inject=["elastic"],f.$inject=["elastic"],g.$inject=["elastic"]}angular.module("nightwatch").config(a),a.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(),function(){"use strict";function a(a){function b(){return a.get("http://localhost:9200/_cluster/health")}function c(){return a.get("http://localhost:9200/_cluster/health?level=indices")}function d(){return a.get("http://localhost:9200/_nodes")}function e(b){return a.get("http://localhost:9200/"+b+"/.percolator/_search")}function f(b,c){return a["delete"]("http://localhost:9200/"+b+"/.percolator/"+c)}function g(b,c,d){return a.put("http://localhost:9200/"+b+"/.percolator/"+c,d)}function h(b){return a.get("http://localhost:9200/"+b)}return{health:b,indicesHealth:c,indiceInfo:h,nodesInfo:d,percolators:e,deletePercolator:f,createPercolator:g}}angular.module("nightwatch").factory("elastic",a),a.$inject=["$http"]}(),function(){"use strict";function a(a,b){function c(a){return f[a]}function d(a){return g[a]}var e=this,f={green:"thumb_up",yellow:"thumbs_up_down",red:"thumb_down"},g={green:"greenyellow",yellow:"yellow",red:"red"};e.cluster=b,e.clusterColor=d,e.clusterIcon=c}angular.module("nightwatch").controller("HealthCtrl",a),a.$inject=["$scope","cluster"]}(),function(){"use strict";function a(a,b){function c(a){return g[a]}function d(a){return h[a]}function e(a){return _.keys(f.indices)[a]}var f=this,g={green:"thumb_up",yellow:"thumbs_up_down",red:"thumb_down"},h={green:"greenyellow",yellow:"yellow",red:"red"};f.indices=b,f.clusterIcon=c,f.clusterColor=d,f.indiceName=e}angular.module("nightwatch").controller("HealthIndicesCtrl",a),a.$inject=["$scope","indices"]}(),function(){"use strict";function a(a,b){var c=this;c.nodes=b}angular.module("nightwatch").controller("HealthNodesCtrl",a),a.$inject=["$scope","nodes"]}(),function(){"use strict";function a(a){function b(){a.theme("default")}b()}angular.module("nightwatch").config(a),a.$inject=["$mdThemingProvider"]}(),function(){"use strict";function a(a){function b(){c.leftMenuOpen!=c.leftMenuOpen}var c=this;c.leftMenuOpen=!1,c.menu=b}angular.module("nightwatch").controller("NightWatchCtrl",a),a.$inject=["$scope"]}(),function(){"use strict";function a(a,b,c,d){function e(){c.createPercolator(h.indice,h.name,h.query).success(function(){g({_id:h.name,_source:h.query})}).error(function(){console.error("an error occured"),b.cancel()})}function f(){b.cancel()}function g(a){b.hide(a)}var h=this;h.indice=d.indice,h.name=null,h.query=null,h.createPercolator=e,h.cancelForm=f}angular.module("nightwatch").controller("PercolatorCreateCtrl",a),a.$inject=["$scope","$mdDialog","elastic","data"]}(),function(){"use strict";function a(a,b,c,d){function e(){return c.indiceInfo(g.indice).then(function(a){g.mappings=_.filter(_.keys(a.data[g.indice].mappings),function(a){return".percolator"!==a})})}function f(){b.cancel()}var g=this;g.indice=d.indice,g.percolator=d.percolator,g.document="",g.mappings=null,g.mapping=null,g.loadMappings=e,g.cancelForm=f}angular.module("nightwatch").controller("PercolatorMatchCtrl",a),a.$inject=["$scope","$mdDialog","elastic","data"]}(),function(){"use strict";function a(a,b,c){function d(){return c.indicesHealth().then(function(a){k.indices=_.keys(a.data.indices)})}function e(){return c.percolators(k.indice).then(function(a){k.percolators=a.data.hits.hits})}function f(){return!_.isNull(k.percolators)&&k.percolators.length>0}function g(a,d,e){var f=b.confirm().title("Are you sure you want to delete this percolator?").textContent('The percolator named "'+d+'" will be deleted definitively.').ariaLabel("Delete the percolator").targetEvent(a).ok("Yes, delete it").cancel("No, don't do it");b.show(f).then(function(){c.deletePercolator(k.indice,d).success(function(){k.percolators.splice(e,1)}).error(function(){console.error("an error occured")})})}function h(a,c){b.show({controller:"PercolatorCreateCtrl",controllerAs:"percolatorsCreateVM",templateUrl:"assets/templates/percolator.dialog.html",parent:angular.element(document.body),targetEvent:a,resolve:{data:function(){return{indice:k.indice}}}}).then(function(a){k.percolators.push(a)})}function i(){b.cancel()}function j(a,c,d){b.show({controller:"PercolatorMatchCtrl",controllerAs:"percolatorMatchVM",templateUrl:"assets/templates/percolator.match.html",parent:angular.element(document.body),targetEvent:a,clickOutsideToClose:!0,resolve:{data:function(){return{indice:k.indice,percolator:d}}}})}var k=this;k.indices=null,k.indice=null,k.percolators=null,k.percolator=null,k.displayPercolators=f,k.loadIndices=d,k.loadPercolators=e,k.deletePercolator=g,k.displayForm=h,k.cancelForm=i,k.matchPercolator=j}angular.module("nightwatch").controller("PercolatorsCtrl",a),a.$inject=["$scope","$mdDialog","elastic"]}(),function(){"use strict";function a(a){}angular.module("nightwatch").controller("WatchersCtrl",a),a.$inject=["$scope"]}();
//# sourceMappingURL=nightwatch.min.js.map